{% extends "time_tracking/base.html" %}

{% block title %}Zeiterfassung - Bestätigung{% endblock %}

{% block body_class %}success-screen {% if not success %}error-screen{% endif %}{% endblock %}

{% block content %}
<div class="success-container">
    {% if success %}
    <div class="success-icon">
        <svg width="120" height="120" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
        </svg>
    </div>
    
    <h1 class="success-title">Erfolgreich gebucht!</h1>
    <p class="success-subtitle">{{ employee_name }}</p>
    <p class="booking-type-display">{{ booking_type }}</p>
    {% else %}
    <div class="error-icon">
        <svg width="120" height="120" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/>
        </svg>
    </div>
    
    <h1 class="error-title">Buchung fehlgeschlagen</h1>
    <p class="error-subtitle">{{ employee_name }}</p>
    <p class="error-message">Bitte wenden Sie sich an die Personalabteilung</p>
    {% endif %}
    
    <div class="redirect-info">
        <p>Sie werden automatisch weitergeleitet...</p>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Nach 3 Sekunden zurück zur Warteseite
    setTimeout(function() {
        window.location.href = "{% url 'waiting' %}";
    }, 3000);
</script>
{% endblock %}
